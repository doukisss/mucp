<?php
//24.0.30.0 IHM/Champ/Champ.php GF
//VersionVI: 01F240077f
//(c) 2005-2012 PC SOFT - Release
 if (!defined('__INC__IHM/ObjetBase.php')) { define('__INC__IHM/ObjetBase.php',true); include_once(WB_INCLUDE_PATH.'WD55e11718a84583ed04e842fb319086b2.php'); } if (!defined('__INC__FMK/Dessin/Couleur.php')) { define('__INC__FMK/Dessin/Couleur.php',true); include_once(WB_INCLUDE_PATH.'WD2521e084cbaf10ef8d5f4ede4dc6baa2.php'); } if (!defined('__INC__FMK/Date.php')) { define('__INC__FMK/Date.php',true); include_once(WB_INCLUDE_PATH.'WD97af71f4453b9d548e8ff90b4bbaba9f.php'); } class CChamp extends CObjetBase { var $FichierParcours; var $RubriqueParcours; var $sRubriqueAffichee= ""; var $sFichierAffiche; var $sFichierBase; var $sRubriqueBase; var $sRubriqueReliee; var $sRubriqueMemorisee = ""; var $FichierLiaison = null; var $RubriqueLiaison = null; var $bMultiLiaison = false; var $sValeurRecherche = ""; var $bParcoursAsc= true; var $nLastPosition = -1; var $nFirstIndex = 0; var $nLastIndex = 0; var $nMaxLignePage = 0; var $nLimiteChargementMemoire = null; var $TabPosition = array(); var $m_clGestFichierParcouru = null; var $m_nActionAutoriseeBase; var $m_pclOngletDuChamp = null; var $m_sBarreOutilsOptions; var $m_eBarreOutilsMode; var $_Optim_bPcodeAffichageLigne = null; var $m_bInterne = false; function CChamp() { parent::CObjetBase(); $this->m_nActionAutoriseeBase = (nACTSRC_AJOUT | nACTSRC_MODIF | nACTSRC_SUPPR); } function F0198de68($sClasseVue, $eTypeVue) { switch ($eTypeVue) { case VUECONTROLEUR_TYPE_SANS: return null; case VUECONTROLEUR_TYPE_WEB : return new $sClasseVue($this); break; default: return null; } } function Fea7a1f04($sClasseControleur, $eTypeControleur) { switch ($eTypeControleur) { case VUECONTROLEUR_TYPE_SANS: return null; case VUECONTROLEUR_TYPE_WEB: return new $sClasseControleur($this); default: return null; } } function F7593ffad($dwFlags) { CWebCommun::F7593ffad(dwFlags); } function Fb560a68a($dwFlags) { CWebCommun::Fb560a68a($dwFlags); $this->Fb3dcf02b(F166fddb3($dwFlags, dwrvNOCHILD | dwrvCREATE)); } function Fb3dcf02b($dwFlags) { if (isset($this->ValeurInitiale)) { $this->Fc6eb41aa(); return true; } return false; } function F48dce54a() { return $this->FichierParcours != null; } function F5ffae798($pclTabValeur,$hPosHF,$hPosDINO) { } function F8ec1b7af($nNumElemModif,&$pclTabValeur, $nNbValeur, $hPositionHF, $hPosDino) { } function F3de60b01(&$pclFichierAnalyse) { return array(); } function Fa96f8906($nNumElemModif, &$phPosElement) { return 0; } function F3ee935df(&$pclEvenement) { } function Fd3a7c1a8() { } function F77cc9fa2($nNumElemModif) { } function Fa87e84c7(&$pclTabVal, $nNbValeur, $nFlag = 0 ) { } function Fbe50ddf6($nIndice) { if (!isset($this->_Optim_bPcodeAffichageLigne )) { if (ExecuteTraitement($this->m_sNomPHP,trtAffichageLigne,false,true)===false) { $this->_Optim_bPcodeAffichageLigne = false; return true; } else $this->_Optim_bPcodeAffichageLigne = true; } elseif ($this->_Optim_bPcodeAffichageLigne===false) { return true; } if ($this->bPcodeAffichageEnCours === true) return true; $this->bPcodeAffichageEnCours = true; $nAncienneValeur = $this->Valeur; if ($this->F48dce54a()) { $Cache = $this->RubriqueParcours->BufferParcours->Cache; $nPosition = $this->FichierParcours->Fd172163b($this->RubriqueParcours); } $bAjax = Feef890d7(); F3ecf4149(false); $this->F37bb1c9f($nIndice); F3ecf4149($bAjax); if ($this->F48dce54a()) { $bAncienneValeur = $this->FichierParcours->m_bNouvelEnregistrement; $this->FichierParcours->m_bNouvelEnregistrement = 0; } ExecuteTraitement($this->m_sNomPHP,trtAffichageLigne,false); if ($this->F48dce54a()) { $bRetourPositionUtile = ($this->FichierParcours->m_bNouvelEnregistrement !== 0); $this->FichierParcours->m_bNouvelEnregistrement = $bAncienneValeur; } $this->bPcodeAffichageEnCours = false; F3ecf4149(false); $this->F37bb1c9f($nAncienneValeur); F3ecf4149($bAjax); if ($this->F48dce54a()) { Fe4e65a90($nPosition); if (false === $bRetourPositionUtile) { $this->RubriqueParcours->BufferParcours->Cache = $Cache; } } return true; } function Fb40d01a9($nLigne) { if (ExecuteTraitement($this->m_sNomPHP,TRT_Filtre_Page,false,true)===false) { return nFILTRE_OK; } if ($this->F48dce54a()) { $nPosition = $this->FichierParcours->Fd172163b($this->RubriqueParcours); $Cache = $this->RubriqueParcours->BufferParcours->Cache; $bAncienneValeur = $this->FichierParcours->m_bNouvelEnregistrement; $this->FichierParcours->m_bNouvelEnregistrement = 0; } $bResultat = ExecuteTraitement($this->m_sNomPHP,TRT_Filtre_Page,false); if ($this->F48dce54a()) { $bRetourPositionUtile = ($this->FichierParcours->m_bNouvelEnregistrement !== 0); $this->FichierParcours->m_bNouvelEnregistrement = $bAncienneValeur; Fe4e65a90($nPosition); if (false === $bRetourPositionUtile) { $this->RubriqueParcours->BufferParcours->Cache = $Cache; } } if ($bResultat === false) { return nFILTRE_LIGNESUIVANTE; } elseif ($bResultat === true) { return nFILTRE_OK; } elseif ($bResultat === 2) { return nFILTRE_FIN; } else { return nFILTRE_OK; } return nFILTRE_ERREUR; } function F689fe026() { return true; } function F7b66f7f8() { return PHP_INT_MAX; } function dDebutDessin() { Fdd46bacf(FMK_ChaineConstruit(Fc34ec142("ERR_DESSIN"),Fc34ec142("FCT_DDEBUTDESSIN"))); return false; } function& GetOpacite() { return $this->m_nOpacite; } function SetOpacite($nOpacite) { if ( (!is_numeric($nOpacite)) || ($nOpacite<0) || ($nOpacite>100)) { $nOpacite = 100; } $this->m_nOpacite = $nOpacite; if (Feef890d7()) { F4c16799e($this->m_sNomPHP,XML_CHAMP_PROP_NUM_OPACITE); } } function Fdc05d49f( $ValeurHTTP ) { } function GetValeurHTML( $TypeConvertion = 0 ) { if ($TypeConvertion==2) return $this->GetValeurAffichee(); $Res = utf8_htmlentities( $this->GetValeurAffichee() , ENT_NOQUOTES ); $Res = utf8_str_replace("\r\n", '<BR>', $Res ); $Res = utf8_str_replace("\n", '<BR>', $Res ); $Res = utf8_str_replace("\r", '<BR>', $Res ); return $Res; } function Fb2784a04() { return $this->GetValeur(); } function& GetValeurRenvoyee() { return $this->GetValeur(); } function SetValeurRenvoyee($ValeurRenvoyee) { $this->SetValeur($ValeurRenvoyee); } function GetLibelleHTML( $TypeConvertion = 0 ) { if ($TypeConvertion==2) return $this->GetLibelle(); elseif ($TypeConvertion==0 && $this->m_bLibelleRiche) return $this->GetLibelle(); $Res = utf8_htmlentities( $this->GetLibelle() , ENT_NOQUOTES ); $Res = utf8_str_replace("\r\n", '<br>', $Res ); $Res = utf8_str_replace("\n", '<br>', $Res ); $Res = utf8_str_replace("\r", '<br>', $Res ); return $Res; } function GetCouleurHTML() { return F5bfcd185($this->Couleur); } function GetCouleurFondHTML() { return F5bfcd185($this->CouleurFond); } function& GetType() { return getRef(3); } function Fc6eb41aa() { $this->SetValeur( isset($this->ValeurInitiale) ? $this->ValeurInitiale : '' ); } function F37bb1c9f($Valeur) { $this->Valeur = $Valeur; } function F9888ce5c() { $this->ValeurInitiale = _clone($this->Valeur); } function SetLiaisonFichier($sNomFichier, $sNomRubrique, $pclZR=null, $sNomPHP=null) { $this->sFichierBase = $sNomFichier; $this->sFichierAffiche = $sNomFichier; $this->sRubriqueBase = $sNomRubrique; $this->sRubriqueAffichee = $sNomRubrique; global $MaPage; $MaPage->F7a045ba1($this->Alias, $this); if(isset($pclZR)) { $pclZR->F18f1a158($this,$sNomPHP,$sNomFichier,$sNomRubrique); } } function Fa1b569ab() { return false;; } function SetLiaisonMultiFichier($sFichierBase, $sRubriqueBase, $sFichierRelie1 = "", $sRubriqueRelie1 = "", $sRubriqueAffichee1 = "", $sFichierRelie2 = "", $sRubriqueRelie2= "", $sRubriqueAffichee2="", $pclZR=null, $sNomPHP=null) { if(empty($sFichierRelie1)) { $this->SetLiaisonFichier($sFichierBase, $sRubriqueBase,$pclZR,$sNomPHP); } else { $this->sFichierBase = $sFichierBase; $this->sRubriqueBase = $sRubriqueBase; if(empty($sFichierRelie2)) { $this->bMultiLiaison = true; $this->sFichierAffiche = $sFichierRelie1; $this->sRubriqueAffichee = $sRubriqueAffichee1; $this->sRubriqueReliee = $sRubriqueRelie1; } else { $this->bMultiLiaison = true; $this->sFichierAffiche = array($sFichierRelie1 , $sFichierRelie2); $this->sRubriqueAffichee = array($sRubriqueAffichee1 , $sRubriqueAffichee2); $this->sRubriqueReliee = array($sRubriqueRelie1,$sRubriqueRelie2); } global $MaPage; $MaPage->F7a045ba1($this->Alias, $this); if(isset($pclZR)) { $pclZR->F18f1a158($this,$sNomPHP,$sFichierBase, $sRubriqueBase, $sFichierRelie1 , $sRubriqueRelie1 , $sRubriqueAffichee1 , $sFichierRelie2 , $sRubriqueRelie2, $sRubriqueAffichee2); } } } function F409dc8d1() { if($this->bMultiLiaison) { $Fichier = &Fbad7a601($this->sFichierBase); if(is_object($this->FichierParcours) && Feee3b2d5($this->FichierParcours)) { $this->FichierParcours->F08193936("",array()); } $nResultQuery = $Fichier->F1b8fc945($this); if(!$nResultQuery) { return; } $nResult = $Fichier->F91276a4c($nResultQuery); if(($nResult) != 0) { if(isset($nResult)) { $Rubrique =& F4fc992ba($this); $this->SetValeur($Rubrique->F48bb09ec($nResult[0])); } } } else { $Rubrique =& F4fc992ba($this); $this->SetValeur($Rubrique->GetValeur()); } } function ChampVersSource() { $this->F82c9860c(); } function F82c9860c() { if($this->bMultiLiaison) { return; } Fbb1a729e($this->sFichierBase, $this->sRubriqueBase, $this->Fb2784a04()); } function UploadNomFichier($bLocalisation = true, $nIndice = 1) { if(!isset($_FILES[$this->Alias])) { return ''; } if(!$bLocalisation) { return $_FILES[$this->Alias]['name']; } else { $tmp_file = $_FILES[$this->Alias]['tmp_name']; if((is_uploaded_file($tmp_file))||is_file($tmp_file)) { return F8df7b692($tmp_file); } return ''; } } function UploadCopieFichier($sCheminServeur, $sNomFichier, $nIndice = 1) { if(!isset($_FILES[$this->Alias])) { return ''; } $sNomFichier = F406b3c6d($_FILES[$this->Alias]['tmp_name'],$_FILES[$this->Alias]['name'],$sCheminServeur, $sNomFichier); if (!empty($sNomFichier)) { $_FILES[$this->Alias]['tmp_name'] = F0ac3fb91($sCheminServeur).$sNomFichier; } return $sNomFichier; } function& F87d9a981() { global $MaPage; return $MaPage; } function& GetCouleur() { return $this->F3a0a4a7c($this->F0001028f()); } function& F0001028f() { return parent::GetCouleur(); } function SetCouleur( $clValeur) { $this->F9158bf7f($this->F3b14fdc3($clValeur, $this->F917c0a49(), dwCODESys3DBouton)); $this->F6fb6d0cf(COULEUR_WEB); } function F9158bf7f($dwCoul) { parent::SetCouleur($dwCoul); } function& GetCouleurFond() { return $this->F3a0a4a7c($this->F55933098()); } function& F55933098() { return parent::GetCouleurFond(); } function SetCouleurFond ( $clValeur) { parent::SetCouleurFond($clValeur); $this->F6fb6d0cf(COULEURFOND_WEB); } function F267458f8( $stLogFont, $clCouleurTxt, $pszTailleCSS, $pszPoliceCSS) { $pclCadre =& F264709eb($this,'m_clCadre'); $pclCadre->F710f6f7f($stLogFont, $pszTailleCSS, $pszPoliceCSS); if ($clCouleurTxt->Fd061cc94()) $this->F9158bf7f($clCouleurTxt); } function GetBarreOutilsOptionsHTML( $TypeConvertion = 0 ) { if ($TypeConvertion===8) { return empty($this->m_sBarreOutilsLocale) ? '{}' : $this->m_sBarreOutilsLocale; } return empty($this->m_sBarreOutilsOptions) ? '{}' : $this->m_sBarreOutilsOptions; } function GetBarreOutilsModeHTML( $TypeConvertion = 0 ) { return !isset($this->m_eBarreOutilsMode) ? '0' : ((string)$this->m_eBarreOutilsMode); } function pszGetChampDataHTML() { $pclResultat = null; $pclResultatStats = null; $this->m_pclVue->F1f68ed08( new CPropCodeHTML(szPROP_CODEHTML . cPROP_CODEHTML_SEPARATEUR . PARTIE_CODEHTML_CHAMP_DATA), $pclResultat, $pclResultatStats ); return (isset($pclResultat)) ? $pclResultat : $pclResultatStats; } } class CSuperChamp extends CChamp { function CSuperChamp() { parent::CChamp(); } function& GetType() { return getRef(40); } function Fc6eb41aa() { } function& GetValeur() { if (!F10625e0f('__WB__PCODE_AFFRECUP_VALEUR__' . $this->F960e3ffe())) { $sNomCallbackGetValeur = $this->F960e3ffe() . TRT_GetValeur_Page; if (!function_exists($sNomCallbackGetValeur)) $sNomCallbackGetValeur = $this->F960e3ffe() . 'LVAL'; if (function_exists($sNomCallbackGetValeur)) { call_user_func($sNomCallbackGetValeur); } } return $this->Valeur ; } function SetValeur($NewVal) { parent::SetValeur($NewVal); if (!F10625e0f('__WB__PCODE_AFFRECUP_VALEUR__' . $this->F960e3ffe())) { $sNomCallbackSetValeur = $this->F960e3ffe() . TRT_SetValeur_Page; if (!function_exists($sNomCallbackSetValeur)) $sNomCallbackSetValeur = $this->F960e3ffe() . 'EVAL'; if (function_exists($sNomCallbackSetValeur)) { call_user_func($sNomCallbackSetValeur); } } } function& __GetType() { $t=TYPEWL_VARIANT; return $t; } } class COptionMenu extends CChamp { var $Occurrence; var $m_bSelectionee = false; var $m_bCreeDynamiquement = false; var $m_sFonction = null; var $m_xParametre = null; var $m_eAction = null; var $m_czPageAction = null; var $m_bEstunSeparateur = false; var $m_sMenuParent = null; var $m_bEstUnSousMenu = false; function COptionMenu() { parent::CChamp(); } function& GetType() { return getRef(ntypOPTIONMENU); } function Fc1a6d5f6($nIdPcode,$ptabParams=null ) { if ($nIdPcode == trtClic) { if ( !empty($this->URL) ) { F6e3689dc($this->URL); } elseif (!empty($this->m_sFonction)) { $sNomFonctionPHP=$this->m_sFonction; XASSERT(function_exists($sNomFonctionPHP)); if(isset($this->m_xParametre)) { return $sNomFonctionPHP($this->m_xParametre); } else { return call_user_func($sNomFonctionPHP); } } } else { return parent::Fc1a6d5f6($nIdPcode,$ptabParams); } return null; } function SetLibelle($szNewVal) { parent::SetLibelle($szNewVal); parent::SetBulle($szNewVal); } function SetBulle($szNewVal) { $this->F48f1d9bc($szNewVal); } function F48f1d9bc($szNewVal) { parent::SetLibelle($szNewVal); parent::SetBulle($szNewVal); } function SetSelectionnee( $bValeur ) { $this->m_bSelectionee = (bool)$bValeur; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_SELECTIONNEE ); } } function& GetSelectionnee() { return $this->m_bSelectionee; } function F60786b1e() { return $this->m_bCreeDynamiquement; } function Fd060edb1() { $this->m_bCreeDynamiquement = true; } function Fcbc9af36($sNomFonction, $xParam) { $pclVM =& obtenirVM(); $sNomFonctionPHP = $pclVM->Ff06e3e53($sNomFonction); XASSERT(empty($sNomFonctionPHP) || function_exists($sNomFonctionPHP)); $this->m_sFonction = $sNomFonctionPHP; $this->m_xParametre = $xParam; } function Fe7656b24($b) { $this->m_bEstunSeparateur = $b; } function& Fab988b63() { return $GLOBALS[$this->m_sMenuParent]; } function Ff58e7648($eAction, $pszLien, $pszPageAction) { $this->m_eAction = $eAction; $this->URL = $pszLien; $this->m_czPageAction = $pszPageAction; } function SetMenuParent($sSousMenu) { $this->m_sMenuParent = $sSousMenu; } function F1a194522($bRechargeTailleParent) { if ($this->m_sMenuParent != null) { $pclMenuParent =& $this->Fab988b63(); if ($pclMenuParent->F9a76711e() != false) { $this->m_nLargeur = $pclMenuParent->F24d02852(); } else { $this->m_nHauteur = $pclMenuParent->Faaf2cc2c(); } } } function& F66f81357($sNom) { if ($this->Nom == $sNom) return $this; $null = null; return $null; } function pszGetMeniSiAvecHrefHTML() { return !empty($this->URL) ||!empty($this->m_sFonction); } } class CSousMenu extends COptionMenu { var $m_tabOptions = array(); function CSousMenu() { parent::COptionMenu(); $this->Occurrence=0; $this->m_bEstUnSousMenu = true; } function Ff364ee4e(&$pclOptionMenu) { $nNbOptions = count($this->m_tabOptions,COUNT_NORMAL); for($i=0; $i<$nNbOptions; ++$i) { if ($this->m_tabOptions[$i]->m_sNomPHP === $pclOptionMenu->m_sNomPHP) return $i; } } function F3153a477($nIndiceOption) { if (isset($this->m_tabOptions[$nIndiceOption])) { $this->m_tabOptions[$nIndiceOption]->SetMenuParent(null); unset($this->m_tabOptions[$nIndiceOption]); $this->m_tabOptions = array_values($this->m_tabOptions); --$this->Occurrence; } } function& pclGetOption($nIndiceOption) { if (isset($this->m_tabOptions[$nIndiceOption])) { return $this->m_tabOptions[$nIndiceOption]; } $null = null; return $null; } function& F66f81357($sNom) { if (parent::F66f81357($sNom) !== null) return $this; for($i=0; $i<$this->Occurrence; ++$i) { if (isset($this->m_tabOptions[$i]) && $this->m_tabOptions[$i]->F66f81357($sNom) !== null) return $this->m_tabOptions[$i]; } $null = null; return $null; } function F24d02852() { return -1; } function Faaf2cc2c() { return -1; } function& Fc85a0519($pszNom, $nAfter, $bSousMenu) { $sNomGlobal = uniqid($this->m_sNomPHP . '_'); $GLOBALS[$sNomGlobal] = null; if ($bSousMenu) { $GLOBALS[$sNomGlobal]=&CreerChamp('CSousMenu'); } else { $GLOBALS[$sNomGlobal]=&CreerChamp('COptionMenu'); } $pclNouvelleOption =& $GLOBALS[$sNomGlobal]; global $MaPage; $MaPage->WB_AjouteChamp($pszNom,uniqid('ALIAS'),$pclNouvelleOption,$sNomGlobal); $pclNouvelleOption->lierVM($MaPage->Nom,$pszNom,$sNomGlobal); $pclNouvelleOption->SetMenuParent($this->m_sNomPHP); $pclNouvelleOption->F1a194522(true); if ($nAfter === -1) { $this->m_tabOptions[] =& $pclNouvelleOption; } else { array_splice($this->m_tabOptions,$nAfter-1,1,array(&$pclNouvelleOption,&$this->m_tabOptions[$nAfter-1])); } ++$this->Occurrence; return $this->m_tabOptions[$this->Occurrence-1]; } function F9a76711e() { $pclParent =& $this->Fab988b63(); if (isset($pclParent)) return $pclParent->F9a76711e(); return false; } function Feb0a1ae8(&$pclOptionMenu, $pszAliasPopup, $ePositionPopup) { $sNomGlobal = uniqid($this->m_sNomPHP . '_'); $GLOBALS[$sNomGlobal] = null; $GLOBALS[$sNomGlobal]=&CreerChamp('CObjetMenuPopup'); $pclNouvelleOption =& $GLOBALS[$sNomGlobal]; $pszNom = $pclOptionMenu->Nom; global $MaPage; $MaPage->WB_AjouteChamp($pszNom,$pclOptionMenu->Alias,$pclNouvelleOption,$sNomGlobal); $pclNouvelleOption->lierVM($MaPage->Nom,$pszNom,$sNomGlobal); $pclNouvelleOption->SetMenuParent($this->m_sNomPHP); $pclNouvelleOption->m_cszPopupNom = $pszAliasPopup; $pclNouvelleOption->m_ePopupPosition = $ePositionPopup; $pclNouvelleOption->Fd060edb1(); $this->m_tabOptions[] =& $pclNouvelleOption; ++$this->Occurrence; } function F12828e6d( $eTypeVue) { return $this->F0198de68('CVueChampMenu_Web' , $eTypeVue); } function pszGetMenuPopupDeclarationHTML($bAvecStatiquesAvant=false) { $pclResultat = null; $pclResultatStats = null; $this->m_pclVue->F1f68ed08( new CPropCodeHTML(szPROP_CODEHTML . cPROP_CODEHTML_SEPARATEUR . PARTIE_CODEHTML_MENU_POPUPDECLARATION), $pclResultat, $pclResultatStats ); $return = (isset($pclResultat)) ? $pclResultat : $pclResultatStats; if ($bAvecStatiquesAvant && !empty($return)) return ',' . $return; return $return; } } class CObjetMenuPopup extends COptionMenu { var $m_cszPopupNom; var $m_ePopupPosition; function CObjetMenuPopup () { parent::COptionMenu(); $this->m_cszPopupNom=null; $this->m_ePopupPosition=F1b24b0e4($pclParentMenu); } function& GetType() { return getRef(ID_MENUPOPUP); } function F4a917fa4() { return 105; } function F63945232() { return $this->m_cszPopupNom; } } function F1b24b0e4(&$pclParentMenu) { if ( (null === $pclParentMenu) || ( (null === $pclParentMenu->Fab988b63()) && (false === $pclParentMenu->F9a76711e()))) { return 0; } else { return 1; } } class stPROP_VALEUR extends stSTRUCTURE { var $m_clValeur; var $m_pszValeurConst; var $m_bCompatibleUTF8 = true; function stPROP_VALEUR(&$valeur,&$valconst) { $this->m_clValeur =& $valeur; $this->m_pszValeurConst =& $valconst; } } class CVisiteurMenuPopup { var $m_riPropCodeHTML; var $m_clDeclaration; function CVisiteurMenuPopup (&$riPropCodeHTML) { $this->m_riPropCodeHTML =& $riPropCodeHTML; $this->m_clDeclaration = new CJSOn(); } function F39419d27($UNUSED) { XASSERT(false); return 2; } function Fb99627d9($pclChamp) { return $pclChamp->Faafabe08($this, null); } function F49cfbd8d(&$pclObjetAPCodePage, $pclParent) { switch ($pclObjetAPCodePage->GetType()) { case ID_MENUPOPUP: if (false !== $pclObjetAPCodePage->F60786b1e()) { $pszPopupAlias = $pclObjetAPCodePage->F63945232(); if (!empty($pszPopupAlias)) { if ( (0 < $this->m_clDeclaration->F2884ca00()) || (0 !== $this->m_riPropCodeHTML->m_nParametre)) { $this->m_clDeclaration->F8270781f(DERNIER_NON); } $this->m_clDeclaration->F13314aff($pclObjetAPCodePage->Alias, true); $this->m_clDeclaration->F105675ec(); $this->m_clDeclaration->Fdd3c5492('m_sPopup', DERNIER_NON, true, $pszPopupAlias, utf8_strlen($pszPopupAlias)); $cszPopupPosition = (string)$pclObjetAPCodePage->m_ePopupPosition; $this->m_clDeclaration->Fdd3c5492('m_ePosition', DERNIER_OUI, false, $cszPopupPosition, utf8_strlen($cszPopupPosition)); $this->m_clDeclaration->F1ebdc972(DERNIER_OUI); } } break; } return $pclObjetAPCodePage->Faafabe08($this, $pclParent); } function Febe046d7($eVISITE_OPTION) { return true; } function F90fb4c17(&$rstValeur) { return $this->m_clDeclaration->F90fb4c17(true, $rstValeur); } }; class CVueChampMenu_Web extends CVueChamp_Web { function CVueChampMenu_Web(&$pclModele) { parent::CVueChamp_Web($pclModele); } function F1f68ed08($clPropCodeHTML,&$rclResultat,&$rpczResultatStatique) { switch ($clPropCodeHTML->m_ePartie) { case PARTIE_CODEHTML_MENU_POPUPDECLARATION: { $clVisiteur = new CVisiteurMenuPopup($clPropCodeHTML); $clVisiteur->Fb99627d9($this->m_pclModele); $rstValeur = new stPROP_VALEUR($rclResultat,$rpczResultatStatique); return $clVisiteur->F90fb4c17($rstValeur); } default: return parent::F1f68ed08($clPropCodeHTML, $rclResultat,$rpczResultatStatique); } } } class CChampMenu extends CSousMenu { var $m_bVertical = false; function& GetType() { return getRef(ID_CHAMPMENU); } function F9a76711e() { return $this->m_bVertical; } function Faafabe08(&$riVisiteur,$pclParentForce) { $eVisiteResultat = parent::Faafabe08($riVisiteur, $pclParentForce); if (0 === $eVisiteResultat) { if (false !== $riVisiteur->Febe046d7(1)) { $n=count($this->m_tabOptions,COUNT_NORMAL); for ($nOption = 0; $nOption < $n; ++$nOption) { $eVisiteResultat = $riVisiteur->F49cfbd8d($this->m_tabOptions[$nOption], $this); if (2 === $eVisiteResultat) break; } } } return $eVisiteResultat; } } class CTiroir extends CChamp { function CTiroir() { parent::CChamp(); $this->Valeur = true; } function& GetType() { return getRef(34); } function GetValeurHTML( $TypeConvertion = 0 ) { return ($this->Valeur==false) ? '0' : '1'; } function F4a917fa4() { return 34; } function Fdc05d49f( $ValeurHTTP ) { $this->Valeur = (VersChaine($ValeurHTTP)==='1'); } function SetEnroule($bEnroule) { $this->Valeur = ! $bEnroule; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEUR); } } function& GetEnroule() { $retour = ! $this->Valeur; return $retour; } } if (!defined('__INC__IHM/Champ/CadreLibelle.php')) { define('__INC__IHM/Champ/CadreLibelle.php',true); include_once(WB_INCLUDE_PATH.'WDca2e54604ad98e6dc625c0642acf03cf.php'); } class CStyle { var $m_clNom; var $m_clCadre; function CStyle ( $piContextePolice = null) { $this->m_clNom = ''; $this->m_clCadre = new CCadreLibelle($piContextePolice); } } class CLienSiteMapPath extends CObjetBase { var $m_tabParams = null; function CLienSiteMapPath($sLibelle,$sUrl,$sBulle,$tabParams=null) { $this->SetURL($sUrl); $this->SetLibelle( $sLibelle ); $this->m_sBulle = $sBulle; $this->m_tabParams = $tabParams; } function SetURL( $sUrl ) { if ((''!==$sUrl) && (false === utf8_strpos($sUrl,':/')) && (false === utf8_strpos($sUrl,'?')) && (false === F0728da76(utf8_strtolower($sUrl),'.php'))) { $sUrl= Fcb05ad9b($sUrl); } parent::SetURL($sUrl); } function SetLibelle($szNewVal) { parent::SetLibelle($szNewVal); parent::SetValeur($szNewVal); } function SetValeur($szNewVal) { parent::SetValeur($szNewVal); parent::SetLibelle($szNewVal); } } class CSiteMapPath extends CChamp { var $m_bLinkToCurrent = false; var $m_clSeparator = ''; var $m_bLienDirectAutorise = false; var $m_clStyleLienFinal = ''; var $m_clStyleLien = ''; var $m_clStyleSeparateur = ''; var $m_clTabNode = null; var $m_cszValeurAffichee; function CSiteMapPath() { parent::CChamp(); } function Fb560a68a($dwFlags) { parent::Fb560a68a($dwFlags); if ($this->F4230685c() === false) { return; } $this->m_bLienDirectAutorise = ! (ExecuteTraitement($this->m_sNomPHP,trtClic,false,true)===true); $this->Valeur = 0; } function Fdc05d49f( $ValeurHTTP ) { $this->Valeur = ((int)$ValeurHTTP) + 1; } function& GetValI( $Indice ) { if ( ($Indice < 1) || ($Indice > count($this->m_clTabNode,COUNT_NORMAL)) ) return Fe81a7f9e('ERR_OUTOFBOUNDCROCHET',$this->GetNom(),$Indice,$this->GetOccurrence()); return $this->m_clTabNode[ $Indice-1 ]; } function Fc1a6d5f6($nIdPcode,$ptabParams=null ) { if ($nIdPcode == trtClic) { $pclNoeudCourant =& $this->GetValI( $this->Valeur ); if ( !empty($pclNoeudCourant->URL) ) { F6e3689dc($pclNoeudCourant->URL); } if ($this->m_bLienDirectAutorise===false) { return parent::Fc1a6d5f6(trtClic,$ptabParams); } } else { return parent::Fc1a6d5f6($nIdPcode,$ptabParams); } return null; } function CheminNavigationAjouteLien($sLibelle, $sUrl, $sBulle = '') { $this->m_clTabNode[] = new CLienSiteMapPath($sLibelle, $sUrl, $sBulle); if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEURAFFICHEE); } return true; } function CheminNavigationInsereLien($nNumero, $sLibelle, $sUrl, $sBulle = '') { if (false === array_key_exists($nNumero-1,$this->m_clTabNode)) return false; $clNouveauLien = new CLienSiteMapPath($sLibelle, $sUrl, $sBulle); $nNbElements = count($this->m_clTabNode,COUNT_NORMAL); if ($nNumero+1 === $nNbElements) { $this->m_clTabNode[] =& $clNouveauLien; } else { $tabNodes = array(); for($i=0; $i<$nNbElements; ++$i) { if ($i === $nNumero-1) { $tabNodes[] =& $clNouveauLien; } $tabNodes[] =& $this->m_clTabNode[$i]; } $this->m_clTabNode = $tabNodes; } if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEURAFFICHEE); } return true; } function CheminNavigationModifieLien ($nNumero, $sLibelle, $sUrl, $sBulle = '') { if (false === array_key_exists($nNumero-1,$this->m_clTabNode)) return false; $this->m_clTabNode[$nNumero-1] = new CLienSiteMapPath($sLibelle, $sUrl, $sBulle); if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEURAFFICHEE); } return true; } function CheminNavigationSupprimeLien ($nNumero) { if (false === array_key_exists($nNumero-1,$this->m_clTabNode)) return false; unset($this->m_clTabNode[$nNumero-1]); $this->m_clTabNode = array_values($this->m_clTabNode); if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEURAFFICHEE); } return true; } function CheminNavigationSupprimeTout () { $this->m_clTabNode = array(); if(Feef890d7()) { F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_VALEURAFFICHEE); } return true; } function& GetType() { return getRef(23); } function F4a917fa4() { return 23; } function& GetValeurAffichee() { $retour = ''; if (false === $this->Fa77644da()) { return $retour; } return $this->m_cszValeurAffichee; } function& GetOccurrence() { $return = count($this->m_clTabNode,COUNT_NORMAL); return $return; } function& GetVide() { $return = 0===count($this->m_clTabNode,COUNT_NORMAL); return $return; } function& GetValeurInitiale() { return Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_VALEURINITIALE"),F3b9ec4ca($this)); } function SetValeurInitiale($Valeur) { Erreur('ErreurProprieteInconnue','',Fc34ec142("PROP_NOM_VALEURINITIALE"),F3b9ec4ca($this)); } function& GetLibelle() { $cszLibelle = ''; $i=-1; while(isset($this->m_clTabNode[++$i])) { if ($i > 0) $cszLibelle.=$this->m_clSeparator; $cszLibelle.=$this->m_clTabNode[$i]->Libelle; } return $cszLibelle; } function SetLibelle($Valeur) { } function& Fdf5b402f(&$pclPage) { $sUrlPageMinuscule = utf8_strtolower(Fcb05ad9b($pclPage->Nom)); $nMeilleurNbParametres = -1; $pclMeilleurNoeud = null; $this->F26d33b70($this->m_clTabNode,$pclPage,$sUrlPageMinuscule,$pclMeilleurNoeud,$nMeilleurNbParametres); return $pclMeilleurNoeud; } function F26d33b70(&$tabNodes,&$pclPage,$sUrlPageMinuscule,&$pclMeilleurNoeud,&$nMeilleurNbParametres) { foreach( array_keys($tabNodes) as $sNomLien) { if (is_int($sNomLien)) continue; $pclNoeud =& $GLOBALS[$sNomLien]; if (utf8_strtolower($pclNoeud->URL) === $sUrlPageMinuscule) { if (null === $pclMeilleurNoeud) $pclMeilleurNoeud=$tabNodes[$sNomLien]; $nNbParametres = (null !== $pclNoeud->m_tabParams) ? count($pclNoeud->m_tabParams,COUNT_NORMAL) : 0; if ($nNbParametres > $nMeilleurNbParametres) { $bVerifieParametres = true; if ($nNbParametres>0) foreach ($pclNoeud->m_tabParams as $sNomParam => $xValeur) { if (null!==$xValeur && F4e7f6fae($sNomParam,true,null) !== $xValeur) { $bVerifieParametres = false; break; } } if ($bVerifieParametres === true) { $pclMeilleurNoeud = $tabNodes[$sNomLien]; $nMeilleurNbParametres = $nNbParametres; } } } $this->F26d33b70($tabNodes[$sNomLien],$pclPage,$sUrlPageMinuscule,$pclMeilleurNoeud,$nMeilleurNbParametres); } } function F4230685c() { global $MaPage; $pclNode =& $this->Fdf5b402f($MaPage); $tmp = array(); while($pclNode!==null) { $sNomPHPNoeud = $pclNode[1]; $tmp[] =& $GLOBALS[$sNomPHPNoeud]; $pclNode = $pclNode[0]; } $this->m_clTabNode = array_reverse($tmp); return true; } function F71c44801($nNode, &$rcszLien) { $cszTempStyle = ''; if (($nNode==count($this->m_clTabNode,COUNT_NORMAL)-1) && false===$this->m_bLinkToCurrent) { $rcszLien.= '<span class="' . $this->m_clStyleLienFinal .'">' . $this->m_clTabNode[$nNode]->Libelle. '</span>'; } else { $pszStyle = ($nNode === count($this->m_clTabNode,COUNT_NORMAL - 1)) ? $this->m_clStyleLienFinal : $this->m_clStyleLien; $this->Fafdb595b($this->m_clTabNode[$nNode], $nNode, $pszStyle, $rcszLien); } } function Fafdb595b(&$piNoeud, $nIndiceNoeud, $pszStyle, &$rcszLien) { { if ($this->Etat == ETAT_CHAMP_GRISE) { if ($pszStyle!='') $pszStyle.=' '; $pszStyle.='wbgrise'; } $dataHref = ($this->Etat == ETAT_CHAMP_ACTIF) ? 'href' : 'data-href'; } $rcszLien='<a class="'.$pszStyle.'"'; $czURL=''; $czParametres=''; $pszNom = $piNoeud->URL; if ( empty($pszNom) || ((is_file(F9486bf1a($pszNom)) === true) && ($this->m_bLienDirectAutorise === false))) { $czParametres = 'WD_ACTION_=CLICSMP;' . $this->Alias . ';' . $nIndiceNoeud; global $MaPage; $czParametres.=$MaPage->Ff1153809('&'); $czURL = ''; } else { $czURL = $piNoeud->URL; global $gtabCheminPage; $tabNomPage = pathinfo($czURL); $NomPage = utf8_strtoupper($tabNomPage['filename']); if (isset($gtabCheminPage[$NomPage])) { $pclLangue =& FMK_Langue_Alphabet(); $nNation = $pclLangue->nNation; $czURL = $gtabCheminPage[$NomPage][$nNation]['URL'] . $gtabCheminPage[$NomPage][$nNation]['NOM'] . '.'. $tabNomPage['extension']; global $gszCheminPageInverse; if (isset($gszCheminPageInverse)) { $czURL = $gszCheminPageInverse . $czURL; } } } $czURL = str_replace('/./','/',$czURL); if (F61bc61eb($czURL,'./')) { $czURL = substr($czURL,2); } $pszSeparateur = ''; if ($czParametres!=='') $pszSeparateur = '?'; $rcszLien.=' ' . $dataHref . '="' . $czURL . $pszSeparateur . $czParametres . '"'; $cszTitre = utf8_htmlspecialchars($piNoeud->Libelle, ENT_NOQUOTES); $pszDescription = $piNoeud->m_sBulle; if (F8b98af41($pszDescription)) { $rcszLien .= ' title="' . utf8_htmlspecialchars($pszDescription, ENT_NOQUOTES) . '"'; } $rcszLien.='>'.$cszTitre.'</a>'; } function F4ef2677b(&$rcszSeparateurHTML) { { $cszSeparateurEncode = $this->m_clSeparator; $cszSeparateurEncode = utf8_htmlspecialchars($cszSeparateurEncode , ENT_NOQUOTES); $cszSeparateurEncode = utf8_str_replace(' ', '&nbsp;', $cszSeparateurEncode); $rcszSeparateurHTML= '<span class="'. $this->m_clStyleSeparateur . '">'. $cszSeparateurEncode . '</span>'; } } function Fa77644da() { $this->m_cszValeurAffichee = ''; $nNbNoeuds = count($this->m_clTabNode,COUNT_NORMAL); if ($nNbNoeuds > 0) { $tabContenu = array(); for ($i = 0; $i < $nNbNoeuds; ++$i) { $cszLien = ''; $this->F71c44801($i, $cszLien); $tabContenu[] = $cszLien; } $cszSeparateurHTML = ''; $this->F4ef2677b($cszSeparateurHTML); $this->m_cszValeurAffichee = utf8_implode($cszSeparateurHTML,$tabContenu); } return true; } } class CCellule extends CChamp { function CCellule() { parent::CChamp(); } function& GetType() { return getRef(ID_CELLULE); } function F4a917fa4() { return 39; } } class CChampCelluleMiseEnPage extends CChamp { function CChampCelluleMiseEnPage() { parent::CChamp(); } function& GetType() { return getRef(ID_CELLULEMISEENPAGE); } function F4a917fa4() { return 39; } } class CChampPopup extends CChamp { function CChampPopup() { parent::CChamp(); } function& GetType() { return getRef(ID_POPUP_DEST); } function F4a917fa4() { return 90; } } class CIFrame extends CChamp { function CIFrame() { parent::CChamp(); } function& GetType() { return getRef(27); } function F4a917fa4() { return 27; } function GetValeurAfficheeHTML() { $return = $this->GetValeurAffichee(); return strpos($return,'/')!==false ? $return : Fcb05ad9b($return); } } class CLigneHR extends CChamp { function CLigneHR() { parent::CChamp(); } function& GetType() { return getRef(13); } function F4a917fa4() { return 13; } } class CChampBarreNav extends CChamp { function CChampBarreNav() { parent::CChamp(); } function& GetType() { return getRef(ID_BARRENAVIGATION); } function F4a917fa4() { return 117; } } class CChampBandeauDefilant extends CChamp { var $m_bDefilementAutomatique = false; var $m_tabVolets = null; function CChampBandeauDefilant() { parent::CChamp(); $this->m_tabVolets = array(); $this->Valeur = 1; } function F12828e6d( $eTypeVue) { return $this->F0198de68('CVueChampBandeauDefilant_Web' , $eTypeVue); } function& GetType() { return getRef(ID_BANDEAU_DEFILANT_WEB); } function F4a917fa4() { return 122; } function lierVM($sNomVM, $sNomWL, $sNomPHP) { foreach ($this->m_tabVolets as $nIndice => $sNomPHPVolet) { $pclVolet =& $this->GetValI($nIndice+1); $pclVolet->m_pclChampConteneur =& $this; } parent::lierVM($sNomVM, $sNomWL, $sNomPHP); } function Fdc05d49f( $ValeurHTTP ) { if (isset($ValeurHTTP) && !empty($ValeurHTTP)) { $ValeurHTTP = min(99,max(1,$ValeurHTTP)); $this->Valeur = $ValeurHTTP; $this->Plan = $ValeurHTTP; } } function SetPlan($n) { $this->SetValeur($n); $this->Plan = min(99,max(1,$n)); if (Feef890d7()) F4c16799e($this->m_sNomPHP, XML_CHAMP_PROP_NUM_PLAN); } function pszGetDefilementAutoHTML() { return $this->m_bDefilementAutomatique ? 'true' : 'false'; } function F7a85fb6e($nIndice,$bSensCorrection) { if ($nIndice<1 || $nIndice>$this->GetOccurrence()) { if ($bSensCorrection) { $nIndice=1; } else { $nIndice=$this->GetOccurrence(); } } $pclPlan =& $this->GetValI($nIndice); $bBoucleAutorise = true; while(isset($pclPlan) && !$pclPlan->GetVisible()) { if ($bSensCorrection) { ++$nIndice; if ($bBoucleAutorise && $nIndice>$this->GetOccurrence()) { $nIndice=1; $bBoucleAutorise=false; } } else { --$nIndice; if ($bBoucleAutorise && $nIndice<1) { $nIndice=1; $bBoucleAutorise=false; } } $pclPlan =& $this->GetValI($nIndice); } if (!isset($pclPlan)) return; $this->SetValeur($nIndice); } function BandeauPremier() { $this->F7a85fb6e(1,true); } function BandeauDernier() { $this->F7a85fb6e($this->GetOccurrence(),false); } function BandeauPrecedent() { $this->F7a85fb6e($this->Valeur-1,false); } function BandeauSuivant() { $this->F7a85fb6e($this->Valeur+1,true); } function BandeauLanceDefilement() { $this->m_bDefilementAutomatique = true; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, PROP_INVALID_MIN); } } function BandeauArreteDefilement() { $this->m_bDefilementAutomatique = false; if(Feef890d7()) { F4c16799e($this->m_sNomPHP, PROP_INVALID_MIN); } } function& GetValI($IndiceVolet) { $RetourDefaut = null; $nIndiceVolet = intval($IndiceVolet) - 1; if (!isset($this->m_tabVolets[$nIndiceVolet])) { return $RetourDefaut; } return F9abbf335($this->m_tabVolets[$nIndiceVolet],IND_CHAMP); } function AjouteVolet($sNomPHP) { $this->m_tabVolets[] = $sNomPHP; } function& GetOccurrence() { $Retour = count($this->m_tabVolets,COUNT_NORMAL); return $Retour; } function pszGetContenuHTML() { return F42d47045($this,false); } } class CVoletBandeauDefilant extends CObjetBase { function CVoletBandeauDefilant() { parent::CObjetBase(); } function& GetType() { Erreur('ErreurProprieteInconnue','',Fc34ec142('PROP_NOM_TYPE'),Fc34ec142('TYPEWL_NOM_VOLETBANDEAU')); return getRef(); } function F4a917fa4() { return 122; } function F70cea20e() { return false; } function SetVisible( $bVisible ) { $this->Visible = $bVisible; if(Feef890d7()) { F4c16799e($this->m_pclChampConteneur->m_sNomPHP, PROP_INVALID_MIN); } } } class CVueChampBandeauDefilant_Web extends CVueChamp_Web{ function CVueChampBandeauDefilant_Web(&$pclModele) { parent::CVueChamp_Web($pclModele); } function Fd0d72590($eDernier, &$rclParametres) { $pclModele =& $this->Fda201604(); $rclParametres->F7373ec8a("m_bDefilementAutomatique", $eDernier, $pclModele->m_bDefilementAutomatique); return true; } function F5d67aaa5($eDernier,&$rclParametres) { $pclModele =& $this->Fda201604(); $this->Fc12ed48a(array(&$this, 'F3836dad3'),'m_tabPlans', count($pclModele->m_tabVolets,COUNT_NORMAL), $eDernier, $rclParametres); return true; } function F3836dad3($nIndiceC, &$rclParametres, $eDernier) { $pclModele =& $this->Fda201604(); $pclPlan =& $pclModele->GetValI($nIndiceC+1); $rclParametres->F105675ec(); $rclParametres->F7373ec8a('m_bVisible', DERNIER_OUI, $pclPlan->Visible, $pclPlan); $rclParametres->F1ebdc972($eDernier); } } class CChampComposantWeb extends CChamp { var $m_sCodeCSS= ''; var $m_sCodeHTML= ''; var $m_sCodeJS= ''; function CChampComposantWeb() { parent::CChamp(); } function& GetType() { return getRef(ID_COMPOSANT_WEB); } function F4a917fa4() { return 121; } function& GetCodeHTML() { return $this->m_sCodeHTML; } function SetCodeHTML($s) { $this->m_sCodeHTML = $s; if (Feef890d7()) { F4c16799e($this->m_sNomPHP,XML_CHAMP_PROP_NUM_CODEHTML); } } function GetCodeHTMLHTML() { return str_replace('[%WD_MOIMEME_..ALIAS%]',$this->Alias,$this->m_sCodeHTML); } function& GetCodeCSS() { return $this->m_sCodeCSS; } function SetCodeCSS($s) { $this->m_sCodeCSS = $s; if (Feef890d7()) { F4c16799e($this->m_sNomPHP,XML_CHAMP_PROP_NUM_CODECSS); } } function GetCodeCSSHTML() { return $this->m_sCodeCSS; } function& GetCodeJS() { return $this->m_sCodeJS; } function SetCodeJS($s) { $this->m_sCodeJS = $s; if (Feef890d7()) { F4c16799e($this->m_sNomPHP,XML_CHAMP_PROP_NUM_CODEJS); } } function GetCodeJSHTML() { return $this->m_sCodeJS; } function Fdc05d49f( $ValeurHTTP ) { if (isset($ValeurHTTP) && !empty($ValeurHTTP)) { $this->Valeur = $ValeurHTTP; } } } function F4bbdc065(&$pclThis) { if (false === $pclThis->bMultiLiaison) return $pclThis->sFichierBase; else return (is_array($pclThis->sFichierAffiche) ? $pclThis->sFichierAffiche[1] : $pclThis->sFichierAffiche); } function F0baf5c86(&$pclThis) { if (false === $pclThis->bMultiLiaison) return $pclThis->sRubriqueBase; else return (is_array($pclThis->sRubriqueAffichee) ? $pclThis->sRubriqueAffichee[1] : $pclThis->sRubriqueAffichee); } function& Fd91261c2(&$pclThis) { if(!isset($pclThis->FichierLiaison)) { $pclThis->FichierLiaison =& Fbad7a601(F4bbdc065($pclThis)); } return $pclThis->FichierLiaison; } function& F4fc992ba(&$pclThis) { if(!isset($pclThis->RubriqueLiaison)) { $Fichier = &Fd91261c2($pclThis); $pclThis->RubriqueLiaison =& $Fichier->F133178d5(F0baf5c86($pclThis)); } return $pclThis->RubriqueLiaison; } class CChampDisposition extends CChamp { var $m_nDisposition = -1; var $m_tabVolets = array(); function CChampDisposition() { parent::CChamp(); $this->m_tabVolets = array(); } function& GetType() { return getRef(ID_LAYOUT); } function F4a917fa4() { return 126; } function& GetDisposition() { return $this->m_nDisposition; } function& GetValI($IndiceVolet) { $RetourDefaut = null; $nIndiceVolet = intval($IndiceVolet) - 1; if (!isset($this->m_tabVolets[$nIndiceVolet])) { return $RetourDefaut; } return F9abbf335($this->m_tabVolets[$nIndiceVolet],IND_CHAMP); } function AjouteVolet($sNomPHP) { $this->m_tabVolets[] = $sNomPHP; } function& GetOccurrence() { $nOccurrence = $this->Occurrence; return $nOccurrence; } function nGetNbFilsDirectsVisibles() { $nNbVisibles = 0; foreach ($this->m_tabVolets as $key => $sNomPHPVolet) { if (isset($GLOBALS[$sNomPHPVolet])) $nNbVisibles += $GLOBALS[$sNomPHPVolet]->nGetNbFilsDirectsVisibles(); } return $nNbVisibles; } } class CCelluleDisposition extends CChamp { var $m_tabFilsDirectsAlias= array(); function CCelluleDisposition() { parent::CChamp(); } function& GetType() { return getRef(ID_LAYOUT_CELL); } function F4a917fa4() { return 127; } function F70cea20e() { return false; } function SetVisible( $bVisible ) { $this->Visible = $bVisible; if(Feef890d7()) { F4c16799e($this->m_pclChampConteneur->m_sNomPHP, PROP_INVALID_MIN); } } function nGetNbFilsDirectsVisibles() { return nGetNbFilsDirectsVisibles($this->m_tabFilsDirectsAlias); } } function nGetNbFilsDirectsVisibles($tabFilsDirectsAlias) { $nNB = count($tabFilsDirectsAlias,COUNT_NORMAL); global $MaPage; foreach ($tabFilsDirectsAlias as $sAlias) { if (!isset($MaPage->TabChamp[$sAlias])) { continue; } $bVisibleCalcule = (is_callable(array($MaPage->TabChamp[$sAlias],'nGetNbFilsDirectsVisibles'))) ? $MaPage->TabChamp[$sAlias]->nGetNbFilsDirectsVisibles() : true ; if (!$bVisibleCalcule || !$MaPage->TabChamp[$sAlias]->Visible) { --$nNB; } } return $nNB==0 ? false : true; } class CGrapheSerieWL { var $m_nIndice; var $m_pclGraphe; function CGrapheSerieWL(&$Graphe,$Indice) { $this->m_pclGraphe =& $Graphe; $this->m_nIndice = $Indice; } function& GetValeur() { return $this->m_pclGraphe->Fd0be4d03($this->m_nIndice); } function& getProp($prop) { return $this->m_pclGraphe->Fe5d01628($this->m_nIndice,$prop); } function F9656d042($prop,$valeur) { $this->m_pclGraphe->Fe5d01628($this->m_nIndice,$prop,$valeur); } } class CGrapheSerie { var $m_sLibelle=""; var $m_nEpaisseur=2; var $m_eTypePoint=-2; var $m_bAxeSecondaire=false; var $m_nOffset=1; var $m_eTypeWL=0; var $m_eType; var $m_nOpacite=-1; var $m_eTypeSourceCalculee=-100; var $m_dParamSourceCalculee=0; var $m_eLissage=-1; var $m_nTaillePoint=-1; var $m_eDessinValeursNulles=-1; var $m_eTypeTrait=0; var $m_oInformationsPoints; var $m_tabValeur=array(); var $m_sCouleur; function CGrapheSerie($eType) { $this->m_eType = $eType; $this->m_oInformationsPoints = new stdClass(); } } class CGrapheAxe { var $m_bVisible= true; var $m_bQuadrillage= false; var $m_bPasOptimise= true; var $m_dPas= 0; var $m_bOrigineMin= false; var $m_dOrigineMin= 0; var $m_bOrigineMax= false; var $m_dOrigineMax= 0; var $m_eOrientationGraduations= 0; var $m_ePositionAxeGraphe= 0; function CGrapheAxe() { } } class CGraphePolice { var $m_sNom; var $m_nGras; var $m_bItalique; var $m_bSouligne; var $m_bBarre; var $m_sTaille; var $m_sCouleur = 0; function CGraphePolice(&$clPolice) { if (!is_object($clPolice)) return; if ($clPolice->m_nIsXXX === 0) $pclPolice =& $clPolice; else $pclPolice =& GetValeur($clPolice); if (!is_object($pclPolice)) return; $this->m_sNom = $pclPolice->m_sNom; $this->m_nGras = $pclPolice->m_bGras ? 900 : 0; $this->m_bItalique = $pclPolice->m_bItalique; $this->m_bSouligne = $pclPolice->m_bSouligne; $this->m_bBarre = $pclPolice->m_bBarree; $this->m_sTaille = $pclPolice->m_nTaille . "pt"; if ($pclPolice->m_clCouleur->Fd061cc94()) $this->m_sCouleur = '#'.F5bfcd185($pclPolice->m_clCouleur->m_dwColor); } } class CGrapheInfoPoint { var $m_eTypePoint; var $m_nTaillePoint; var $m_crCouleurPoint; var $m_crCouleurBordurePoint; var $m_pszBulle; function CGrapheInfoPoint() { } } class CChampGraphe extends CChamp { var $m_oParametres; var $m_oDonnees; var $m_sDernierDessinParametres = null; var $m_sDernierDessinDonnees = null; var $bInitRemplissage=false; function CChampGraphe() { parent::CChamp(); $this->m_oParametres = new stdClass(); $this->m_oDonnees = new stdClass(); } function SetSourceRemplissage($sParamEd,$sDonneesEd) { $this->m_oParametres= $this->F5b936250($sParamEd); $this->m_oDonnees= $this->F5b936250($sDonneesEd); } function InitRemplissage() { if (!$this->bInitRemplissage) { $this->grDessine(); $this->bInitRemplissage = true; } } function pszGetContenuHTML() { return F42d47045($this,false); } function pszGetChampParametresHTML() { return $this->m_sDernierDessinParametres; } function pszGetChampDonneesHTML() { return $this->m_sDernierDessinDonnees; } function F95f8e02e($sListeParametre) { $tabParams = explode(',',$sListeParametre); $i = 0; $this->m_oParametres->m_eType = F075ca95b($tabParams[$i++]); $pclAxeX =& $this->Fbb0fc056(1); $pclAxeX->m_bQuadrillage = VersBooleen($tabParams[$i++]); $pclAxeY =& $this->Fbb0fc056(0); $pclAxeY->m_bQuadrillage = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_bSpline = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_bDegrade = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_nProfondeur = 0;$i++; $this->m_oParametres->m_bAntiAliasing = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_byAlpha = VersBooleen($tabParams[$i++]) ? 127 : 255; $this->m_oParametres->m_ePosLegende = F075ca95b($tabParams[$i++]); switch (F075ca95b($tabParams[$i++])) { case 0: $this->m_oParametres->m_bMire = true; $this->m_oParametres->m_bMireMultiple = true; break; case 1: $this->m_oParametres->m_bMire = true; $this->m_oParametres->m_bMireMultiple = false; break; case 2: $this->m_oParametres->m_bMire = false; $this->m_oParametres->m_bMireMultiple = false; break; default: break; } $this->m_oParametres->m_bAnimationGraphe = VersBooleen($tabParams[$i++]); $i++; $this->m_oParametres->m_bZoomX = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_bZoomY = VersBooleen($tabParams[$i++]); $this->m_oParametres->m_dZoomXMin = F075ca95b($tabParams[$i++]); $this->m_oParametres->m_dZoomXMax = F075ca95b($tabParams[$i++]); $this->m_oParametres->m_dZoomYMin = F075ca95b($tabParams[$i++]); $this->m_oParametres->m_dZoomYMax = F075ca95b($tabParams[$i++]); $this->Ff6bf9c9b(); F962be4d3(); header("Content-type: image/gif"); echo(base64_decode("R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==")); } function& GetValI( $nIndice ) { $serie = new CGrapheSerieWL($this,$nIndice); return $serie; } function SetValI( $nIndice, $Valeur) { $serie =& $this->Fd0be4d03($nIndice); $serie = $Valeur; } function& GetType() { return getRef(ID_GRAPHE); } function F4a917fa4() { return 33; } function& GetDureeAnimation() { return $this->m_oParametres->m_nDureeAnimation; } function SetDureeAnimation($n) { $this->m_oParametres->m_nDureeAnimation = $n; } function GetDureeAnimationHTML() { return $this->m_oParametres->m_nDureeAnimation; } function& GetCouleurMire() { return $this->m_oParametres->m_sMireCouleur; } function SetCouleurMire($p) { $this->m_oParametres->m_sMireCouleur = '#' . F5bfcd185(F075ca95b($p)); } function& GetOpaciteMire() { return $this->m_oParametres->m_nMireOpacite; } function SetOpaciteMire($p) { $this->m_oParametres->m_nMireOpacite = $p; } function& GetEpaisseurMire() { return $this->m_oParametres->m_nMireEpaisseur; } function SetEpaisseurMire($p) { $this->m_oParametres->m_nMireEpaisseur = $p; } function F97a57645($obj) { if (UNICODE_PAGE_UTF8) { return json_encode($obj); } $json = new Services_JSON(); return F5b94f193( $json->F97a57645($obj) ); } function F5b936250($s) { if (UNICODE_PAGE_UTF8) { return json_decode($s); } $json = new Services_JSON(); return $json->F5b936250( $s ); } function Ff6bf9c9b() { $pclAxeX =& $this->Fbb0fc056(1); $pclAxeY =& $this->Fbb0fc056(0); $this->m_sBarreOutilsLocale = '{' . '"TYP":' . $this->m_oParametres->m_eType . ',"GDH":' . VersChaine($pclAxeX->m_bQuadrillage) . ',"GDV":' . VersChaine($pclAxeY->m_bQuadrillage) . ',"SMO":' . VersChaine($this->m_oParametres->m_bSpline) . ',"GRA":' . VersChaine($this->m_oParametres->m_bDegrade) . ',"RAI":' . VersChaine(0) . ',"ANT":' . VersChaine($this->m_oParametres->m_bAntiAliasing) . ',"TRA":' . VersChaine($this->m_oParametres->m_byAlpha) . ',"LEG":' . VersChaine($this->m_oParametres->m_ePosLegende) . ',"MIR":' . VersChaine( (($this->m_oParametres->m_bMire&&$this->m_oParametres->m_bMireMultiple) ? 0 : ($this->m_oParametres->m_bMire ? 1 : 2)) ) . ',"ANI":' . VersChaine($this->m_oParametres->m_bAnimationGraphe) . ',"INT":' . VersChaine(1) . '}'; $this->m_sDernierDessinParametres= $this->F97a57645($this->m_oParametres); if (!empty($this->m_oDonnees->m_oCategories->m_tabValeurDateHeure)) { $tabMS = $this->m_oDonnees->m_oCategories->m_tabValeurDateHeure; $this->m_oDonnees->m_oCategories->m_tabValeurDateHeure = array(); } $this->m_sDernierDessinDonnees = $this->F97a57645($this->m_oDonnees); if (isset($tabMS)) { $this->m_oDonnees->m_oCategories->m_tabValeurDateHeure = $tabMS; $sTabValeurDateHeure = ''; foreach ($tabMS as $fmkDateHeure) { $nNbMsDepuis1970 = $fmkDateHeure->F778c5667()*1000 + $fmkDateHeure->getMilliseconde(); $sTabValeurDateHeure .= (empty($sTabValeurDateHeure) ? '[' : ',') . 'new Date(' . $nNbMsDepuis1970 . ')'; } $this->m_sDernierDessinDonnees = str_replace('m_tabValeurDateHeure":[','m_tabValeurDateHeure":'.$sTabValeurDateHeure,$this->m_sDernierDessinDonnees); } } function F946ca5b2(&$clDateDebut,$sDate,$sFormat='AAAAMMJJHHmmssLLL') { $clDate = new FMK_Date($sDate, $sFormat); $clDuree = new FMK_Date_Duree($clDateDebut, $clDate); return $clDuree->F1ba6a9e4(); } function F17470ab0(&$pclSerieCalculee) { $ParamSerieCalculee = F075ca95b($pclSerieCalculee->m_dParamSourceCalculee); $nNbMaxCategorie = 0; $tabSerie =& $this->m_oDonnees->m_tabSeries; foreach(array_keys($tabSerie) as $i) { $serie =& $tabSerie[$i]; if (isset($serie->m_eTypeSource) && $serie->m_eTypeSource == 7) continue; $nNbMaxCategorie = max($nNbMaxCategorie,count($serie->m_tabValeur,COUNT_NORMAL) + (isset($serie->m_nOffset) ? ($serie->m_nOffset-1) : 0) ); } $nNbMaxCategorie = max($nNbMaxCategorie,count($this->m_oDonnees->m_oCategories->m_tabValeur,COUNT_NORMAL) + (isset($this->m_oDonnees->m_oCategories->m_nOffset) ? ($this->m_oDonnees->m_oCategories->m_nOffset-1) : 0)); $pclSerieCalculee->m_tabValeur = array(); $pclSerieCalculee->m_nOffset = 1; if ($nNbMaxCategorie==0) { return; } if ($pclSerieCalculee->m_eTypeSourceCalculee == -100) { $pclSerieCalculee->m_tabValeur = array_fill(0,$nNbMaxCategorie,$ParamSerieCalculee); return; } $pclSerieRef =& $this->Fd0be4d03($ParamSerieCalculee,false); if (!isset($pclSerieRef)) { return; } if (empty($pclSerieRef->m_tabValeur)) { return; } if ($this->m_oParametres->m_bEchelleTemporelle && isset($this->m_oDonnees->m_oCategories->m_tabValeurDateHeure)) { $sFormat = 'AAAAMMJJHHmmssLLL'; $clDateDebut = null; foreach ($pclSerieRef->m_tabValeur as $nIndice => $value) { if (!isset($value)) { continue; } $clDate = $this->m_oDonnees->m_oCategories->m_tabValeurDateHeure[$nIndice]; if (!isset($clDateDebut) || $clDateDebut->F6220aed2($clDate) === -1) { $clDateDebut = $clDate; } } } switch($pclSerieCalculee->m_eTypeSourceCalculee) { case -100: Fa79fbf41("dj trait"); break; case -101: $nTotal = 0; $nNbValeur = 0; foreach ($pclSerieRef->m_tabValeur as $value) { if (!isset($value)) { continue; } $nTotal += $value; ++$nNbValeur; } if ($nNbValeur===0) { return; } $pclSerieCalculee->m_tabValeur = array_fill(0,$nNbMaxCategorie,$nTotal / $nNbValeur); break; case -102: $dSumXi=0; $dSumXiYi=0; $dSumYi=0; $dSumXi2=0; $n = 0; foreach ($pclSerieRef->m_tabValeur as $dX => $dY) { if ($this->m_oParametres->m_bEchelleTemporelle) { $dX = $this->F946ca5b2($clDateDebut,$dX,$sFormat); } if (!isset($dY)) continue; $dSumXi+=$dX; $dSumXiYi += $dX*$dY; $dSumYi+=$dY; $dSumXi2 += $dX*$dX; ++$n; } if ($n<=0) return; $dB = ($n*$dSumXiYi - $dSumXi*$dSumYi) / ($n*$dSumXi2-$dSumXi*$dSumXi); $dMoyenneX = $dSumXi/$n; $dMoyenneY = $dSumYi/$n; $dA = $dMoyenneY-$dB*$dMoyenneX; foreach ($pclSerieRef->m_tabValeur as $dX => $dY) { if ($this->m_oParametres->m_bEchelleTemporelle) { $dX = $this->F946ca5b2($clDateDebut,$dX,$sFormat); } $pclSerieCalculee->m_tabValeur[$dX] = $dB*$dX+$dA; } break; case -103: $dSumXi=0; $dSumXiYi=0; $dSumYi=0; $dSumXi2=0; $dSumXi3=0; $dSumXi4=0; $dSumXi2Yi=0; $n = 0; foreach ($pclSerieRef->m_tabValeur as $dX => $dY) { if ($this->m_oParametres->m_bEchelleTemporelle) { $dX = $this->F946ca5b2($clDateDebut,$dX,$sFormat); } if (!isset($dY)) continue; $dSumXi+=$dX; $dSumXiYi += $dX*$dY; $dSumYi+=$dY; $dSumXi2 += $dX*$dX; $dSumXi3 += $dX*$dX*$dX; $dSumXi4 += $dX*$dX*$dX*$dX; $dSumXi2Yi += $dX*$dX*$dY; ++$n; } if ($n<=0) return; $dMeanX = $dSumXi/$n; $dMeanY = $dSumYi/$n; $dMeanX2 = $dSumXi2/$n; $dSxx = $dMeanX2-$dMeanX*$dMeanX; $dSxy = $dSumXiYi/$n - $dMeanX*$dMeanY; $dSxx2 = $dSumXi3/$n - $dMeanX*$dMeanX2; $dSx2x2 = $dSumXi4/$n - $dMeanX2*$dMeanX2; $dSx2y = $dSumXi2Yi/$n - $dMeanX2*$dMeanY; $dB = ($dSxy*$dSx2x2 - $dSx2y*$dSxx2) / ($dSxx*$dSx2x2-($dSxx2*$dSxx2)); $dC = ($dSx2y*$dSxx -$dSxy*$dSxx2) / (($dSxx*$dSx2x2)-($dSxx2*$dSxx2)); $dA = $dMeanY-$dB*$dMeanX-$dC*$dMeanX2; foreach ($pclSerieRef->m_tabValeur as $dX => $dY) { if ($this->m_oParametres->m_bEchelleTemporelle) { $dX = $this->F946ca5b2($clDateDebut,$dX,$sFormat); } $pclSerieCalculee->m_tabValeur[$dX] = $dC*$dX*$dX+$dB*$dX+$dA; } break; default: Fa79fbf41("srie calcule inconnue"); } } function F65f60aaa(&$pclSerieRubrique) { if (!$pclSerieRubrique->m_bMajAuto && !empty($pclSerieCalculee->m_tabValeur)) { return; } $sFichier = $pclSerieRubrique->m_SourceParam1; $sRubriqueAffichee = $pclSerieRubrique->m_SourceParam2; $sRubriqueParcourue = $pclSerieRubrique->m_SourceParam3; if (empty($sFichier) || empty($sRubriqueAffichee)) { return; } $pclFichier =& Fichier($sFichier); $pclRubriqueAffichee =& F2b6640f3($pclFichier,$sRubriqueAffichee); if (!isset($pclFichier) || !isset($pclRubriqueAffichee)) { return; } if (!empty($sRubriqueParcourue)) { $pclRubriqueParcourue =& F2b6640f3($pclFichier,$sRubriqueParcourue); } else { if(!isset($pclFichier->BestRub)) { $pclFichier->Fad8a73f6(); } $pclRubriqueParcourue =& $pclFichier->BestRub; } if(Feee3b2d5($pclFichier) && !$pclFichier->bInit) { if (!$pclFichier->F08193936("",array())) { return; } } $pclSerieRubrique->m_tabValeur = array(); $pclSerieRubrique->m_nOffset = 1; $i=1; $pclFichier->Fa84e48aa($pclRubriqueParcourue); while(!$pclFichier->bHEnDehors) { $this->Fbe0c4544($pclSerieRubrique,$i++,$pclRubriqueAffichee->GetValeur()); $pclFichier->Fec3a1557($pclRubriqueParcourue); } } function F0439ffc1() { $serie =& $this->m_oDonnees->m_oCategories; switch($serie->m_eTypeSource) { case 0: break; case 2: $this->F65f60aaa($serie); break; case 7: default: Fa79fbf41("source non gre : " . $serie->m_eTypeSource); } if ($this->m_oParametres->m_bEchelleTemporelle) { $serie->m_tabValeurDateHeure = array(); $serie->m_eTypeWL = 26; foreach($serie->m_tabValeur as $nIndice => $pclValeurI) { $nType = TYPEWL_DATEHEURE; $sValeur = GetValeur($pclValeurI); if (is_object($pclValeurI) && is_callable(array($pclValeurI,'__GetType'))) { $nType = $pclValeurI->__GetType(); } else { switch(strlen($sValeur)) { case 8: $nType = TYPEWL_DATE; break; case 9: $nType = TYPEWL_HEURE; break; default: case 17: $nType = TYPEWL_DATEHEURE; } } switch($nType) { case TYPEWL_DATE: $sValeur .= '000000000'; $eTypeWL = 24; break; case TYPEWL_HEURE: $sValeur = '19700101' . $sValeur; $eTypeWL = 25; break; case TYPEWL_DATEHEURE: $eTypeWL = 26; break; default : } $serie->m_tabValeurDateHeure[] = new FMK_Date($sValeur); } if (!empty($serie->m_tabValeurDateHeure)) { $serie->m_eTypeWL = $eTypeWL; } } $tabSerie =& $this->m_oDonnees->m_tabSeries; foreach(array_keys($tabSerie) as $i) { $serie =& $tabSerie[$i]; if (isset($serie->m_eTypeSource)) { switch($serie->m_eTypeSource) { case 0: break; case 2: $this->F65f60aaa($serie); break; case 7: break; default: ; } } } foreach(array_keys($tabSerie) as $i) { $serie =& $tabSerie[$i]; if (isset($serie->m_eTypeSource)) { switch($serie->m_eTypeSource) { case 0: case 2: break; case 7: $this->F17470ab0($serie); break; default: ; } } } } function& Fd0be4d03($IndiceWL,$bCreerSiInexistant=true) { $nIndiceJSON = $this->Fbe75ca4e($IndiceWL,1); $serie =& $this->F0011cf56($this->m_oDonnees->m_tabSeries,$nIndiceJSON); if (isset($serie)) return $serie; if (!$bCreerSiInexistant) return getRef(null); $serie = new CGrapheSerie($this->m_oParametres->m_eType); return $this->F01e42d02($this->m_oDonnees->m_tabSeries,$nIndiceJSON,$serie); } function& Fe5d01628($IndiceWL,$prop,$valeur=null) { $bLecture = !isset($valeur); $bDepuisCategorie = ( ($this->m_oParametres->m_eType == 0) || ($this->m_oParametres->m_eType == 23) || ($this->m_oParametres->m_eType == 26) || ($this->m_oParametres->m_eType == 33) ); $serie =& $this->Fd0be4d03($IndiceWL, $IndiceWL!=0 && !$bLecture && !$bDepuisCategorie); $return = null; $valeur = VersPrimitif($valeur); switch($prop) { case 'CouleurSerie': { $sCouleur = '#' . F5bfcd185(F075ca95b($valeur)); if ($bDepuisCategorie) { if(!$bLecture) return $this->F0011cf56($this->m_oParametres->m_oCategories->m_tabCouleur,$Indice); $this->F01e42d02($this->m_oParametres->m_oCategories->m_tabCouleur,$Indice,$sCouleur); } else { if(!$bLecture) $serie->m_sCouleur = $sCouleur; return $serie->m_sCouleur; } } break; case 'Legende': { if (!$bLecture) $serie->m_sLibelle = $valeur; return $serie->m_sLibelle; } break; case 'Epaisseur': { if ($bLecture) { if (!isset($serie)) return 0; return $serie->m_nEpaisseur; } if ($IndiceWL == 0) { $tabSerie =& $this->m_oDonnees->m_tabSeries; } else { if (!isset($serie)) return 0; $tabSerie = array( &$serie ); } foreach(array_keys($tabSerie) as $i) { $serie =& $tabSerie[$i]; $serie->m_nEpaisseur = $valeur; } } break; case 'MAJAutomatique': { if (!$bLecture) $serie->m_bMajAuto = VersBooleen($valeur); return $serie->m_bMajAuto; } break; case 'Source': { return $serie->m_eTypeSource; } break; case 'SourceDescription': { $desc = strval($series->m_SourceParam1); if ($serie->m_eTypeSource == 2) { $desc .= $series->m_SourceParam2 . '.' . $series->m_SourceParam3; } } break; case 'BorneMin': { $min = null; foreach($serie->m_tabValeur as $vali) { if (!isset($min)) $min=$vali; $vali = min($vali,$min); } return $min; } break; case 'BorneMax': { $max = null; foreach($serie->m_tabValeur as $vali) { if (!isset($max)) $max=$vali; $vali = max($vali,$max); } return $max; } break; case 'AxeSecondaire': { if (!$bLecture) { $serie->m_bAxeSecondaire = VersBooleen($valeur); if ($serie->m_bAxeSecondaire && !isset($this->m_oParametres->m_oAxeYSecondaire)) { $this->m_oParametres->m_oAxeYSecondaire =& _clone($this->Fbb0fc056(0)); } } return $serie->m_bAxeSecondaire; } break; default: Erreur('ErreurGenerique',FMK_ChaineConstruit(Fc34ec142("PROPRIETE_INDISPONIBLE"),$prop,'')); } return $return; } function& F01e42d02(&$tab,$nIndiceJSON,&$obj) { if (!isset($tab)) $tab = array(); while(count($tab,COUNT_NORMAL)<$nIndiceJSON) $tab[]=null; $tab[$nIndiceJSON] =& $obj; return $tab[$nIndiceJSON]; } function& F0011cf56(&$tab,$nIndiceJSON) { if (isset($tab[$nIndiceJSON])) return $tab[$nIndiceJSON]; return getRef(null); } function Fbe0c4544(&$obj,$nIndiceWL,$Valeur,$sNomOffset="m_nOffset",$sNomTab="m_tabValeur") { $nOffset = 1; if (!empty($sNomOffset)) { if (empty($obj->$sNomOffset)) { $obj->$sNomOffset = 1; } else { $nOffset = $obj->$sNomOffset; } } if (!isset($obj->$sNomTab) && !empty($sNomTab)) { $obj->$sNomTab = array(); } $nIndiceJSON = isset($nIndiceWL) ? $this->Fbe75ca4e($nIndiceWL,$nOffset) : (count($obj->$sNomTab,COUNT_NORMAL) + $nOffset - 1); $this->F01e42d02($obj->$sNomTab,$nIndiceJSON,$Valeur); } function F053086ba(&$obj,$nIndiceWL) { if (empty($obj->m_nOffset)) { $obj->m_nOffset = 1; } $nIndiceJSON = isset($nIndiceWL) ? $this->Fbe75ca4e($nIndiceWL,$obj->m_nOffset) : (count($obj->m_tabValeur,COUNT_NORMAL) + $obj->m_nOffset - 1); return $this->F0011cf56($obj->m_tabValeur,$nIndiceJSON); } function Fbe75ca4e($nIndiceWL,$nOffsetWL=1) { if (empty($nOffsetWL)) $nOffsetWL=1; $nIndiceJSON = ($nIndiceWL-1) + ($nOffsetWL-1); return $nIndiceJSON; } function Fdea19b20($Serie,$Categorie,$Membre,$Valeur=null) { $serie =& $this->Fd0be4d03($Serie); if (!isset($serie->m_oInformationsPoints->$Categorie)) $serie->m_oInformationsPoints->$Categorie = new CGrapheInfoPoint(); $pclInfo =& $serie->m_oInformationsPoints->$Categorie; if (isset($Valeur)) $pclInfo->$Membre = $Valeur; return $pclInfo->$Membre; } function& Fbb0fc056($sens) { switch($sens) { default: Fa79fbf41("sens inconnu"); case 1: if (!isset($this->m_oParametres->m_oAxeX)) $this->m_oParametres->m_oAxeX = new CGrapheAxe(); return $this->m_oParametres->m_oAxeX; break; case 0: if (!isset($this->m_oParametres->m_oAxeY)) $this->m_oParametres->m_oAxeY = new CGrapheAxe(); return $this->m_oParametres->m_oAxeY; break; case 2: if (!isset($this->m_oParametres->m_oAxeYSecondaire)) $this->m_oParametres->m_oAxeYSecondaire = new CGrapheAxe(); return $this->m_oParametres->m_oAxeYSecondaire; break; } } function F1e5fcb5f($LibelleCategorie,$bCree=true) { $nIndiceC = array_search($LibelleCategorie, $this->m_oDonnees->m_oCategories->m_tabValeur); if ($nIndiceC!==false || !$bCree) return $nIndiceC; $this->Fbe0c4544($this->m_oDonnees->m_oCategories,null,$LibelleCategorie); $nIndiceC = count($this->m_oDonnees->m_oCategories->m_tabValeur,COUNT_NORMAL) - 1; $this->Fbe0c4544($this->Fd0be4d03(1),$nIndiceC + 1,0); return $nIndiceC; } function grAjouteDonnee($NoSerie,$Indice,$Valeur=null) { if (!isset($Valeur)) { $Valeur = $Indice; $Indice = null; } $this->Fbe0c4544($this->Fd0be4d03($NoSerie),$Indice,$Valeur); } function grSMNAjouteDonnee($Chemin,$Donnee) { $nIndiceC = $this->F1e5fcb5f($Chemin); $this->Fbe0c4544($this->Fd0be4d03(1),$nIndiceC + 1,$Donnee); } function grBourseAjouteDonnee($NoSerie,$NoCategorie,$Minimum,$Maximum,$Debut,$Fin) { if ($NoSerie==0) { return; } $this->Fbe0c4544($this->Fd0be4d03($NoSerie*4-3),$NoCategorie,$Minimum); $this->Fbe0c4544($this->Fd0be4d03($NoSerie*4-2),$NoCategorie,$Maximum); $this->Fbe0c4544($this->Fd0be4d03($NoSerie*4-1),$NoCategorie,$Debut); $this->Fbe0c4544($this->Fd0be4d03($NoSerie*4),$NoCategorie,$Fin); } function grBulle($Serie,$Categorie=null,$Texte=null) { if(isset($Categorie) && isset($Texte)) { $this->Fdea19b20($Serie,$Categorie,'m_pszBulle',$Texte); } else { $option = $Serie; $valeur = $Categorie; switch ($option) { default: Fa79fbf41("option inconnue"); case 0: $sBulle =& $this->m_oParametres->m_bBulleActive; break; case 1: $sBulle =& $this->m_oParametres->m_sBulle; break; case 2: $sBulle =& $this->m_oParametres->m_sBulleSecteur; break; case 3: $sBulle =& $this->m_oParametres->m_sBulleBoursier; break; case 4: $sBulle =& $this->m_oParametres->m_sBulleNuage; break; case 5: $sBulle =& $this->m_oParametres->m_sBulleBulle; break; case 6 : $sBulle =& $this->m_oParametres->m_sBulleEnteteMire; break; } if (isset($valeur)) { $sBulle = $valeur; return; } return $sBulle; } } function grCouleur($Element,$Couleur=null) { switch($Element) { default: Fa79fbf41("element non support"); return; case 0: $pclCouleur =& $this->m_oParametres->m_sCouleurAxe; break; case 1: $pclCouleur =& $this->m_oParametres->m_sCouleurAxeRelief; break; case 2: $pclCouleur =& $this->m_oParametres->m_sCouleurQuadrillage; break; case 3: $pclCouleur =& $this->m_oParametres->m_sCouleurQuadrillageRelief; break; case 4: $pclCouleur =& $this->m_oParametres->m_sCouleurLegende; break; case 5: $pclCouleur =& $this->m_oParametres->m_sCouleurLegendeFond; break; case 6: $pclCouleur =& $this->m_oParametres->m_sCouleurBordure; break; case 7: $pclCouleur =& $this->m_oParametres->m_sCouleurChandelierHausse; break; } if (isset($Couleur)) { if ($Element === 6) { if ($Couleur == dwCODEAutomatique) { $this->m_oParametres->m_bCouleurBordureAuto=true; return; } else { $this->m_oParametres->m_bCouleurBordureAuto=false; } } $pclCouleur = '#' . F5bfcd185($Couleur); return; } return $pclCouleur; } function grCouleurSerie($Indice,$Couleur) { $this->Fe5d01628($Indice,'CouleurSerie',$Couleur); } function grDessine() { $this->F0439ffc1(); $this->Ff6bf9c9b(); if(Feef890d7()) { F4c16799e($this->m_sNomPHP, PROP_INVALID_MIN); } } function grDonutPourcentageTrou($Pourcentage) { $this->m_oParametres->m_nPourcentageTrou = floatval($Pourcentage); } function grDegrade($bDegrade) { $this->m_oParametres->m_bDegrade = (bool)$bDegrade; } function grEpaisseurTrait($NumSerie,$NouvelleEpaisseur=null) { return $this->Fe5d01628($NumSerie,'Epaisseur',$NouvelleEpaisseur); } function grEtiquetteCategorie($Indice,$Etiquette=null) { if (!isset($Etiquette)) return $this->F053086ba($this->m_oDonnees->m_oCategories,$Indice); $this->Fbe0c4544($this->m_oDonnees->m_oCategories,$Indice,$Etiquette); } function grEtiquetteSerie($NoSerie,$Etiquette) { $this->Fe5d01628($NoSerie,'Legende',$Etiquette); } function grGraduation($Pas,$Sens=null) { if (!isset($Sens)) $Sens = 1; switch($Sens) { default: Fa79fbf41("sens inconnu"); case 1: if (!isset($this->m_oParametres->m_oAxeX)) $this->m_oParametres->m_oAxeX = new CGrapheAxe(); $this->m_oParametres->m_oAxeX->m_dPas = $Pas; break; case 0: if (!isset($this->m_oParametres->m_oAxeY)) $this->m_oParametres->m_oAxeY = new CGrapheAxe(); $this->m_oParametres->m_oAxeY->m_dPas = $Pas; break; case 2: if (!isset($this->m_oParametres->m_oAxeYSecondaire)) $this->m_oParametres->m_oAxeYSecondaire = new CGrapheAxe(); $this->m_oParametres->m_oAxeYSecondaire->m_dPas = $Pas; break; } } function grHistoEspacement($Espacement) { $this->m_oParametres->m_nEspacement = $Espacement; } function grIncrementeDonnee($NSerie,$indice,$Valeur) { for($iIndiceWL=1; $iIndiceWL<=$NSerie; ++$iIndiceWL) { $serie =& $this->Fd0be4d03($NSerie); $this->Fbe0c4544($serie,$indice,$Valeur+F075ca95b($this->F053086ba($serie,$indice))); } } function grLibelle($Type,$Valeur) { switch($Type) { default: Fa79fbf41("type inconnu"); case 0: $this->m_oParametres->m_bAfficheValeur = VersBooleen($Valeur); break; case 1: $this->m_oParametres->m_bAffichePourcentage = VersBooleen($Valeur); break; case 2: $this->m_oParametres->m_bAfficheLibelle = VersBooleen($Valeur); break; case 3: $this->m_oParametres->m_bAfficheSiNulle = VersBooleen($Valeur); break; } } function grLissage($Serie,$Lissage=null) { if (!isset($Lissage)) { $this->m_oParametres->m_bSpline = VersBooleen($Serie); return; } $serie =& $this->Fd0be4d03($Serie); $serie->m_eLissage = (int)$Lissage; } function grLegende($Position) { $this->m_oParametres->m_ePosLegende = F075ca95b($Position); } function grMAJAutomatiqueEtiquetteCategorie($MAJAutomatique=null) { if (!isset($MAJAutomatique)) { return $this->m_oDonnees->m_oCategories->m_bMajAuto; } $this->m_oDonnees->m_oCategories->m_bMajAuto = VersBooleen($MAJAutomatique); } function grMAJAutomatiqueSerie($Indice,$MAJAutomatique=null) { return $this->Fe5d01628($Indice,'MAJAutomatique',$MAJAutomatique); } function grMasque($typeMasque,$ValeurMasque) { switch($typeMasque) { default: Fa79fbf41("type inconnu"); case 0: $this->m_oParametres->m_sMasqueValeur = $ValeurMasque; break; case 1: $this->m_oParametres->m_sMasquePourcentage = $ValeurMasque; break; case 2: $this->m_oParametres->m_sMasqueAxes = $ValeurMasque; break; case 3: $this->m_oParametres->m_sMasqueAxeTemporel = $ValeurMasque; break; } } function grNuageAjouteDonneeXY($NoSerie,$Indice,$ValeurX,$ValeurY) { if ($NoSerie==0) { return; } $this->Fbe0c4544($this->Fd0be4d03($NoSerie*2-1),$Indice,$ValeurX); $this->Fbe0c4544($this->Fd0be4d03($NoSerie*2),$Indice,$ValeurY); } function grNuageCouleurSerie($NoSerie,$Couleur) { if ($NoSerie==0) { return; } $sCouleur = '#' . F5bfcd185($Couleur); $serie =& $this->Fd0be4d03($NoSerie*2-1); $serie->m_sCouleur = $sCouleur; $serie =& $this->Fd0be4d03($NoSerie*2); $serie->m_sCouleur = $sCouleur; } function grNuageEtiquetteSerie($NoSerie,$Etiquette) { if ($NoSerie==0) { return; } $serie =& $this->Fd0be4d03($NoSerie*2-1); $serie->m_sLibelle = $Etiquette; } function grNuageReliePoint($Serie,$TraitOnOff) { if ($Serie == 0) { $this->m_oParametres->m_bLigne = VersBooleen($TraitOnOff); } else { $serie =& $this->Fd0be4d03($Serie*2-1); $serie->m_eReliePoint = VersBooleen($TraitOnOff) ? 1 : 2; } } function grNuageTaillePoint($Taille) { $this->m_oParametres->m_nTaillePt = F075ca95b($Taille); } function grOrigine($graduMin,$GraduMax=null,$Sens=null) { if (!isset($Sens)) $Sens = 1; $pclAxe =& $this->Fbb0fc056($Sens); $pclAxe->m_bOrigineMin = true; $pclAxe->m_dOrigineMin = F075ca95b($graduMin); if (isset($GraduMax)) { $pclAxe->m_bOrigineMax = true; $pclAxe->m_dOrigineMax = F075ca95b($GraduMax); } } function grPoliceEtiquette($clPolice) { $this->m_oParametres->m_oPoliceLibelle = new CGraphePolice($clPolice); } function grPoliceLegende($clPolice) { $this->m_oParametres->m_oPoliceLegende = new CGraphePolice($clPolice); } function grPoliceTitre($clPolice) { $this->m_oParametres->m_oPoliceTitre = new CGraphePolice($clPolice); } function grPoliceTitreAxe($clPolice) { $this->m_oParametres->m_oPoliceAxe = new CGraphePolice($clPolice); } function grQuadrillage($Quadrillage,$Sens) { $pclAxe =& $this->Fbb0fc056($Sens); $pclAxe->m_bQuadrillage = VersBooleen($Quadrillage); } function grSecteurAngleDepart($Angle) { $this->m_oParametres->m_dAngle = $Angle; } function grSecteurPartExcentree($NumPart,$Excentrage) { if (!isset($ExcentragePart)) { $this->m_oParametres->m_nExcentrageGlobal = F075ca95b($NumPartOuCheminOuExcentrageGlobal); return; } $this->Fbe0c4544($this->m_oDonnees,$NumPart,$Excentrage,"m_nOffsetExcentrage","m_tabExcentrage"); } function grSMNPartExcentree($NumPartOuCheminOuExcentrageGlobal,$ExcentragePart=null) { if (!isset($ExcentragePart)) { $this->m_oParametres->m_nExcentrageGlobal = F075ca95b($NumPartOuCheminOuExcentrageGlobal); return; } if (is_string(VersPrimitif($NumPartOuCheminOuExcentrageGlobal))) { $nIndiceWL = 1 + $this->F1e5fcb5f(VersChaine($NumPartOuCheminOuExcentrageGlobal)); } else { $nIndiceWL = F075ca95b($NumPartOuCheminOuExcentrageGlobal); } $this->Fbe0c4544($this->m_oDonnees,$nIndiceWL,F075ca95b($ExcentragePart),"m_nOffsetExcentrage","m_tabExcentrage"); } function grSupprimeSerie($Noserie=null,$TypeSuppression=-2) { if (!isset($Noserie)) { $tabSerie =& $this->m_oDonnees->m_tabSeries; } else { $serie =& $this->Fd0be4d03($Noserie,false); if (!isset($serie)) return; $tabSerie = array( &$serie ); } foreach(array_keys($tabSerie) as $i) { $serie =& $tabSerie[$i]; if ($TypeSuppression == -2) { $serie = null; } else { $serie->m_tabValeur = array(); } } } function grSupprimeTout() { $this->m_oDonnees->m_tabSeries = array(); } function grSerieAxeSecondaire($Serie,$Valeur) { $this->Fe5d01628($Serie,'AxeSecondaire',$Valeur); } function grTitre($Titre="",$Position=3) { $this->m_oParametres->m_sTitre = $Titre; $this->m_oParametres->m_ePosTitre = $Position; } function grTitreAxe($Titre,$Sens=1) { switch($Sens) { case 0: $this->m_oParametres->m_sTitreAxeY = $Titre; break; case 1: $this->m_oParametres->m_sTitreAxeX = $Titre; break; case 2: $this->m_oParametres->m_sTitreAxeY2 = $Titre; break; default: case 3: break; } } function grType($NouveauType=null) { if (!isset($NouveauType)) return $this->m_oParametres->m_eType; $this->m_oParametres->m_eType = $NouveauType; foreach(array_keys($this->m_oDonnees->m_tabSeries) as $i) { $serie =& $this->m_oDonnees->m_tabSeries[$i]; if (isset($serie) && $serie->m_eType != -1) { $serie->m_eType = $NouveauType; } } } function grCouleurCategorie($IndiceCategorie,$Couleur) { $this->Fbe0c4544($this->m_oDonnees->m_oCategories,F075ca95b($IndiceCategorie),'#' . F5bfcd185( $Couleur ),'','m_tabCouleur'); } function grSMNCouleurPortion($Chemin,$Couleur) { $nIndiceC = $this->F1e5fcb5f($Chemin); $this->Fbe0c4544($this->m_oDonnees->m_oCategories,($nIndiceC+1),'#' . F5bfcd185( $Couleur ),'','m_tabCouleur'); } function grWaterfallTypeCategorie($Categorie,$Type) { $this->Fbe0c4544($this->m_oDonnees->m_oCategories,F075ca95b($Categorie),$Type,'','m_tabTypeCategorieWaterfall'); } function grWaterfallCouleur($Type,$Couleur) { if (!isset($this->m_oDonnees->m_tabCouleursWaterfall)) { $this->m_oDonnees->m_tabCouleursWaterfall = array(-3, "#4F81BD", -3, "#9BBB59", "#FF0000"); } $this->m_oDonnees->m_tabCouleursWaterfall[$Type] = '#' . F5bfcd185( $Couleur ); } function grAxeVisible($Axe,$Visible) { $pclAxe =& $this->Fbb0fc056($Axe); $pclAxe->m_bVisible = VersBooleen($Visible); } function grRecupereDonnee($Numero,$Indice) { return $this->F053086ba($this->Fd0be4d03($Numero),$Indice); } function grSMNRecupereDonnee($Chemin) { $nIndiceC = $this->F1e5fcb5f($Chemin); return $this->F053086ba($this->Fd0be4d03(1),$nIndiceC + 1); } function grBourseRecupereDonnee($Numero,$Indice,$Valeur) { switch($Valeur) { default: case 2: $nDiff = 3; break; case 3: $nDiff = 2; break; case 4: $nDiff = 1; break; case 5: $nDiff = 0; break; } return $this->F053086ba($this->Fd0be4d03($Numero*4-$nDiff),$Indice); } function grNuageRecupereDonneeXY($Numero,$Indice,$Valeur) { switch($Valeur) { default: case grValeurX: $nDiff = 1; break; case 3: $nDiff = 0; break; } return $this->F053086ba($this->Fd0be4d03($Numero*2-$nDiff),$Indice); } function grHMAjouteDonnee($CoordX,$CoordY,$Valeur) { $this->Fbe0c4544($this->Fd0be4d03(1),null,$CoordX); $this->Fbe0c4544($this->Fd0be4d03(2),null,$CoordY); $this->Fbe0c4544($this->Fd0be4d03(3),null,$Valeur); } function grHMCouleur($Palier,$Couleur) { $sCouleur = '#' . F5bfcd185($Couleur); if ($Palier == '__grHMCouleurValeursVide__') { $this->m_oParametres->m_sCouleurHeatMapValeurVide = $sCouleur; } else { if (!isset($this->m_oParametres->m_tabCouleurAltitude)) { $this->m_oParametres->m_tabCouleurAltitude = new stdClass(); } $this->m_oParametres->m_tabCouleurAltitude->$Palier = $sCouleur; } } function grHMLibelleX($CoordX,$Libelle) { if (!isset($this->m_oParametres->m_tabHmLibelleX)) { $this->m_oParametres->m_tabHmLibelleX = new stdClass(); } $this->m_oParametres->m_tabHmLibelleX->$CoordX = $Libelle; } function grHMLibelleY($CoordY,$Libelle) { if (!isset($this->m_oParametres->m_tabHmLibelleY)) { $this->m_oParametres->m_tabHmLibelleY = new stdClass(); } $this->m_oParametres->m_tabHmLibelleY->$CoordY = $Libelle; } function grHMRecupereDonnee($CoordX,$CoordY) { $nNbCategories = null; for($i=1; $i<=3; ++$i) { $series =& $this->Fd0be4d03($i); $nNbValeurs = count($series->m_tabValeur ,COUNT_NORMAL); $nNbCategories = $i==1 ? $nNbValeurs : min($nNbValeurs,$nNbCategories); } for($i=0; $i<$nNbCategories; ++$i) { $Indice = $i + 1; $X = $this->F053086ba($this->Fd0be4d03(1),$Indice); if ($X != $CoordX) continue; $Y = $this->F053086ba($this->Fd0be4d03(2),$Indice); if ($Y != $CoordY) continue; return $this->F053086ba($this->Fd0be4d03(3),$Indice); } return 0; } function grHMSupprimeCouleur($Palier=null) { if (!isset($this->m_oParametres->m_tabCouleurAltitude)) { $this->m_oParametres->m_tabCouleurAltitude = new stdClass(); } if (isset($Palier)) unset($this->m_oParametres->m_tabCouleurAltitude->$Palier); } function grOpaciteSerie($Serie,$Opacite) { $serie =& $this->Fd0be4d03($Serie); $serie->m_nOpacite = 2.55 * $Opacite; } function grTypeSerie($Serie,$Type,$ParamType=null) { $serie =& $this->Fd0be4d03($Serie); if (isset($ParamType)) { $serie->m_dParamSourceCalculee = $ParamType; $serie->m_eTypeSourceCalculee = $Type; $serie->m_eTypeSource = 7; $serie->m_eType = 2; } else { $serie->m_eType = $Type; } } function grTypePointSerie($Serie,$Type) { $serie =& $this->Fd0be4d03($Serie); $serie->m_eTypePoint = $Type; } function grTypePoint($Serie,$Categorie,$Type=null) { if(!isset($Type)) { $Type = $Categorie; $Categorie = $Serie; $tabSerie =& $this->m_oDonnees->m_tabSeries; foreach(array_keys($tabSerie) as $i) { $this->Fdea19b20($i+1,$Categorie,'m_eTypePoint',$Type); } } else { $this->Fdea19b20($Serie,$Categorie,'m_eTypePoint',$Type); } } function grTypeTraitSerie($Serie,$Type) { $serie =& $this->Fd0be4d03($Serie); $serie->m_eTypeTrait = $Type; } function grCouleurPoint($Serie,$Categorie,$CouleurFond,$CouleurBordure=null) { $this->Fdea19b20($Serie,$Categorie,'m_crCouleurPoint','#' . F5bfcd185($CouleurFond)); if (isset($CouleurBordure)) { $this->Fdea19b20($Serie,$Categorie,'m_crCouleurBordurePoint','#' . F5bfcd185($CouleurBordure)); } } function grCouleurBarre($Serie,$Categorie,$Couleur) { $this->grCouleurPoint($Serie,$Categorie,$Couleur); } function grTaillePoint($Serie,$Categorie,$Taille) { $this->Fdea19b20($Serie,$Categorie,'m_nTaillePoint',$Taille); } function grParametre($Parametre,$Valeur=null) { switch($Parametre) { case 43: $this->m_oParametres->bEchantillonageInterdit = $Valeur; break; case 24: $this->m_oParametres->m_eAlgoPalier = $Valeur; break; case 18: $this->m_oParametres->m_eAlgoEntonnoir = $Valeur; break; case 22: $this->m_oParametres->m_22 = $Valeur; break; case 23: $this->m_oParametres->m_nNiveauMaxSunburst = $Valeur; break; case 21: $this->m_oParametres->m_bInteractionSunburst = $Valeur; break; default: Fa79fbf41("param non support"); } } function grSMNPortionRacine($Chemin="") { $this->m_oParametres->m_sPortionRacine = $Chemin; } } ?>